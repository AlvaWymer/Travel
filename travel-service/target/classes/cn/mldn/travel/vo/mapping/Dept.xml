<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mldn.travel.dao.IDeptDAO">
	<!-- 1.1查询所有的部门名称 -->
	<select id="findAllDeptName" resultType="Dept">
		select did,dname,eid from dept
	</select>
	<!--1.1 根据部门的 eid 查询emp表中的 部门负责人的姓名 -->
	<select id="findAllManagerNameForDeptName"  resultType="Emp">
	select eid,lid,did,ename,sal,phone,password,photo,note,hiredate,ineid,locked from emp where eid in(
			select eid from dept);
	</select>
	<!-- 部门名称更新 -->
	<update id="doUpdate" parameterType="Dept" >
		UPDATE dept SET dname=#{dname} WHERE did = #{did} ;
	</update> 
</mapper>
